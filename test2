-- ══════════════════════════════════════════════════════════════════════
-- AZRIX UI LIBRARY - NEW DESIGN (SAME API)
-- ══════════════════════════════════════════════════════════════════════

local Library = {}
Library.Flags = {}
Library.ToggleKey = Enum.KeyCode.Insert
Library.Unloaded = false

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")
local CoreGui = game:GetService("CoreGui")

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Connections = {}

-- Theme
local Theme = {
    Background = Color3.fromRGB(18, 18, 18),
    Secondary = Color3.fromRGB(22, 22, 22),
    Tertiary = Color3.fromRGB(28, 28, 28),
    Accent = Color3.fromRGB(88, 101, 242),
    AccentDark = Color3.fromRGB(71, 82, 196),
    Text = Color3.fromRGB(255, 255, 255),
    TextDark = Color3.fromRGB(175, 175, 175),
    TextDarker = Color3.fromRGB(100, 100, 100),
    Divider = Color3.fromRGB(40, 40, 40),
    Toggle = Color3.fromRGB(50, 50, 50),
    ToggleOn = Color3.fromRGB(88, 101, 242),
    SliderBg = Color3.fromRGB(40, 40, 40),
    SliderFill = Color3.fromRGB(88, 101, 242),
    Input = Color3.fromRGB(35, 35, 35),
    InputBorder = Color3.fromRGB(50, 50, 50)
}

-- Utility
local function Tween(obj, time, props, style, dir)
    local tween = TweenService:Create(obj, TweenInfo.new(time, style or Enum.EasingStyle.Quart, dir or Enum.EasingDirection.Out), props)
    tween:Play()
    return tween
end

local function MakeDraggable(frame, handle)
    local dragging, dragInput, dragStart, startPos
    
    handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    handle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

local function CreateInstance(className, properties)
    local inst = Instance.new(className)
    for prop, value in pairs(properties) do
        if prop ~= "Parent" then
            inst[prop] = value
        end
    end
    if properties.Parent then
        inst.Parent = properties.Parent
    end
    return inst
end

local function AddCorner(parent, radius)
    return CreateInstance("UICorner", {
        CornerRadius = UDim.new(0, radius or 6),
        Parent = parent
    })
end

local function AddStroke(parent, color, thickness, transparency)
    return CreateInstance("UIStroke", {
        Color = color or Theme.Divider,
        Thickness = thickness or 1,
        Transparency = transparency or 0,
        Parent = parent
    })
end

-- Notifications
Library.Notifications = {}
local NotificationHolder

function Library.Notifications:Create(options)
    if not NotificationHolder then return end
    
    options = options or {}
    local text = options.Name or "Notification"
    local duration = options.Lifetime or 3
    
    local Notification = CreateInstance("Frame", {
        Size = UDim2.new(1, 0, 0, 36),
        BackgroundColor3 = Theme.Secondary,
        BorderSizePixel = 0,
        Parent = NotificationHolder
    })
    AddCorner(Notification, 6)
    AddStroke(Notification, Theme.Divider)
    
    local AccentBar = CreateInstance("Frame", {
        Size = UDim2.new(0, 3, 1, -8),
        Position = UDim2.new(0, 4, 0, 4),
        BackgroundColor3 = Theme.Accent,
        BorderSizePixel = 0,
        Parent = Notification
    })
    AddCorner(AccentBar, 2)
    
    local NotifText = CreateInstance("TextLabel", {
        Size = UDim2.new(1, -20, 1, 0),
        Position = UDim2.new(0, 14, 0, 0),
        BackgroundTransparency = 1,
        Text = text,
        TextColor3 = Theme.Text,
        TextSize = 13,
        Font = Enum.Font.Gotham,
        TextXAlignment = Enum.TextXAlignment.Left,
        TextTruncate = Enum.TextTruncate.AtEnd,
        Parent = Notification
    })
    
    Notification.Position = UDim2.new(1, 20, 0, 0)
    Notification.BackgroundTransparency = 1
    NotifText.TextTransparency = 1
    AccentBar.BackgroundTransparency = 1
    
    Tween(Notification, 0.3, {Position = UDim2.new(0, 0, 0, 0), BackgroundTransparency = 0})
    Tween(NotifText, 0.3, {TextTransparency = 0})
    Tween(AccentBar, 0.3, {BackgroundTransparency = 0})
    
    task.delay(duration, function()
        Tween(Notification, 0.3, {Position = UDim2.new(1, 20, 0, 0), BackgroundTransparency = 1})
        Tween(NotifText, 0.3, {TextTransparency = 1})
        Tween(AccentBar, 0.3, {BackgroundTransparency = 1})
        task.wait(0.3)
        Notification:Destroy()
    end)
end

-- Config System
local ConfigFolder = "AzrixConfigs"

local function EnsureConfigFolder()
    if isfolder and not isfolder(ConfigFolder) then
        makefolder(ConfigFolder)
    end
end

function Library:SaveConfig(name)
    EnsureConfigFolder()
    if not writefile then return end
    
    local data = {}
    for flag, value in pairs(self.Flags) do
        if typeof(value) == "table" then
            if value.Color then
                data[flag] = {Type = "Color", R = value.Color.R, G = value.Color.G, B = value.Color.B, A = value.Alpha}
            elseif value.Key then
                local keyName = value.Key == Enum.KeyCode.Unknown and "Unknown" or value.Key.Name
                data[flag] = {Type = "Keybind", Key = keyName, Mode = value.Mode}
            else
                data[flag] = {Type = "Table", Value = value}
            end
        elseif typeof(value) == "Color3" then
            data[flag] = {Type = "Color3", R = value.R, G = value.G, B = value.B}
        elseif typeof(value) == "EnumItem" then
            data[flag] = {Type = "Enum", Value = tostring(value)}
        else
            data[flag] = {Type = "Value", Value = value}
        end
    end
    
    writefile(ConfigFolder .. "/" .. name .. ".json", HttpService:JSONEncode(data))
end

function Library:LoadConfig(name)
    EnsureConfigFolder()
    if not isfile or not isfile(ConfigFolder .. "/" .. name .. ".json") then return end
    
    local success, data = pcall(function()
        return HttpService:JSONDecode(readfile(ConfigFolder .. "/" .. name .. ".json"))
    end)
    
    if not success then return end
    
    for flag, info in pairs(data) do
        if info.Type == "Color" then
            Library.Flags[flag] = {Color = Color3.new(info.R, info.G, info.B), Alpha = info.A}
        elseif info.Type == "Keybind" then
            local key = Enum.KeyCode.Unknown
            if info.Key and info.Key ~= "Unknown" then
                pcall(function() key = Enum.KeyCode[info.Key] end)
            end
            Library.Flags[flag] = {Key = key, Mode = info.Mode}
        elseif info.Type == "Color3" then
            Library.Flags[flag] = Color3.new(info.R, info.G, info.B)
        elseif info.Type == "Table" then
            Library.Flags[flag] = info.Value
        else
            Library.Flags[flag] = info.Value
        end
    end
end

function Library:GetConfigs()
    EnsureConfigFolder()
    if not listfiles then return {} end
    
    local configs = {}
    for _, path in pairs(listfiles(ConfigFolder)) do
        local name = path:match("([^/\\]+)%.json$")
        if name then
            table.insert(configs, name)
        end
    end
    return configs
end

function Library:DeleteConfig(name)
    EnsureConfigFolder()
    if delfile and isfile(ConfigFolder .. "/" .. name .. ".json") then
        delfile(ConfigFolder .. "/" .. name .. ".json")
    end
end

-- Unload
function Library:Unload()
    self.Unloaded = true
    for _, conn in pairs(Connections) do
        if conn.Disconnect then conn:Disconnect() end
    end
    if self.ScreenGui then
        self.ScreenGui:Destroy()
    end
end

-- Window
function Library:Window(options)
    options = options or {}
    local prefix = options.Prefix or "AZRIX"
    local suffix = options.Suffix or "CLIENT"
    local size = options.Size or UDim2.new(0, 620, 0, 471)
    
    -- ScreenGui
    local ScreenGui = CreateInstance("ScreenGui", {
        Name = "AzrixUI_" .. HttpService:GenerateGUID(false),
        ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
        ResetOnSpawn = false
    })
    
    if syn and syn.protect_gui then
        syn.protect_gui(ScreenGui)
        ScreenGui.Parent = CoreGui
    elseif gethui then
        ScreenGui.Parent = gethui()
    else
        ScreenGui.Parent = CoreGui
    end
    
    Library.ScreenGui = ScreenGui
    
    -- Notification Container
    NotificationHolder = CreateInstance("Frame", {
        Size = UDim2.new(0, 250, 1, -20),
        Position = UDim2.new(1, -260, 0, 10),
        BackgroundTransparency = 1,
        Parent = ScreenGui
    })
    
    CreateInstance("UIListLayout", {
        Padding = UDim.new(0, 6),
        SortOrder = Enum.SortOrder.LayoutOrder,
        Parent = NotificationHolder
    })
    
    -- Main Frame
    local Main = CreateInstance("Frame", {
        Name = "Main",
        Size = size,
        Position = UDim2.new(0.5, -size.X.Offset/2, 0.5, -size.Y.Offset/2),
        BackgroundColor3 = Theme.Background,
        BorderSizePixel = 0,
        Parent = ScreenGui
    })
    AddCorner(Main, 8)
    
    local MainShadow = CreateInstance("ImageLabel", {
        Size = UDim2.new(1, 30, 1, 30),
        Position = UDim2.new(0, -15, 0, -15),
        BackgroundTransparency = 1,
        Image = "rbxassetid://5554236805",
        ImageColor3 = Color3.fromRGB(0, 0, 0),
        ImageTransparency = 0.5,
        ScaleType = Enum.ScaleType.Slice,
        SliceCenter = Rect.new(23, 23, 277, 277),
        ZIndex = -1,
        Parent = Main
    })
    
    -- Top Bar
    local TopBar = CreateInstance("Frame", {
        Size = UDim2.new(1, 0, 0, 40),
        BackgroundColor3 = Theme.Secondary,
        BorderSizePixel = 0,
        Parent = Main
    })
    AddCorner(TopBar, 8)
    
    -- Fix corners
    local TopBarFix = CreateInstance("Frame", {
        Size = UDim2.new(1, 0, 0, 10),
        Position = UDim2.new(0, 0, 1, -10),
        BackgroundColor3 = Theme.Secondary,
        BorderSizePixel = 0,
        Parent = TopBar
    })
    
    MakeDraggable(Main, TopBar)
    
    -- Title
    local TitleLabel = CreateInstance("TextLabel", {
        Size = UDim2.new(0, 100, 1, 0),
        Position = UDim2.new(0, 15, 0, 0),
        BackgroundTransparency = 1,
        Text = prefix,
        TextColor3 = Theme.Accent,
        TextSize = 15,
        Font = Enum.Font.GothamBold,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = TopBar
    })
    
    local SubtitleLabel = CreateInstance("TextLabel", {
        Size = UDim2.new(0, 100, 1, 0),
        Position = UDim2.new(0, 15 + TitleLabel.TextBounds.X + 6, 0, 0),
        BackgroundTransparency = 1,
        Text = suffix,
        TextColor3 = Theme.TextDark,
        TextSize = 15,
        Font = Enum.Font.Gotham,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = TopBar
    })
    
    -- Close Button
    local CloseButton = CreateInstance("TextButton", {
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -35, 0.5, -15),
        BackgroundTransparency = 1,
        Text = "✕",
        TextColor3 = Theme.TextDark,
        TextSize = 16,
        Font = Enum.Font.GothamBold,
        Parent = TopBar
    })
    
    CloseButton.MouseEnter:Connect(function()
        Tween(CloseButton, 0.2, {TextColor3 = Color3.fromRGB(255, 80, 80)})
    end)
    CloseButton.MouseLeave:Connect(function()
        Tween(CloseButton, 0.2, {TextColor3 = Theme.TextDark})
    end)
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui.Enabled = false
        Library.Visible = false
    end)
    
    -- Minimize Button
    local MinButton = CreateInstance("TextButton", {
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -65, 0.5, -15),
        BackgroundTransparency = 1,
        Text = "−",
        TextColor3 = Theme.TextDark,
        TextSize = 20,
        Font = Enum.Font.GothamBold,
        Parent = TopBar
    })
    
    MinButton.MouseEnter:Connect(function()
        Tween(MinButton, 0.2, {TextColor3 = Theme.Accent})
    end)
    MinButton.MouseLeave:Connect(function()
        Tween(MinButton, 0.2, {TextColor3 = Theme.TextDark})
    end)
    
    -- Tab Container
    local TabContainer = CreateInstance("Frame", {
        Size = UDim2.new(1, -30, 0, 32),
        Position = UDim2.new(0, 15, 0, 45),
        BackgroundColor3 = Theme.Secondary,
        BorderSizePixel = 0,
        Parent = Main
    })
    AddCorner(TabContainer, 6)
    
    local TabHolder = CreateInstance("Frame", {
        Size = UDim2.new(1, -10, 1, -6),
        Position = UDim2.new(0, 5, 0, 3),
        BackgroundTransparency = 1,
        Parent = TabContainer
    })
    
    CreateInstance("UIListLayout", {
        FillDirection = Enum.FillDirection.Horizontal,
        Padding = UDim.new(0, 4),
        SortOrder = Enum.SortOrder.LayoutOrder,
        Parent = TabHolder
    })
    
    -- Content Container
    local ContentContainer = CreateInstance("Frame", {
        Size = UDim2.new(1, -30, 1, -92),
        Position = UDim2.new(0, 15, 0, 82),
        BackgroundTransparency = 1,
        ClipsDescendants = true,
        Parent = Main
    })
    
    local Window = {}
    Window.Tabs = {}
    Window.ActiveTab = nil
    Library.Visible = true
    
    -- Toggle Key
    local toggleConn = UserInputService.InputBegan:Connect(function(input, processed)
        if processed then return end
        if input.KeyCode == Library.ToggleKey then
            Library.Visible = not Library.Visible
            ScreenGui.Enabled = Library.Visible
        end
    end)
    table.insert(Connections, toggleConn)
    
    -- Tab Function
    function Window:Tab(options)
        options = options or {}
        local name = options.Name or "Tab"
        local icon = options.Icon
        
        local Tab = {}
        
        -- Tab Button
        local TabButton = CreateInstance("TextButton", {
            Size = UDim2.new(0, 0, 1, -4),
            AutomaticSize = Enum.AutomaticSize.X,
            BackgroundColor3 = Theme.Tertiary,
            BackgroundTransparency = 1,
            BorderSizePixel = 0,
            Text = "",
            Parent = TabHolder
        })
        AddCorner(TabButton, 5)
        
        CreateInstance("UIPadding", {
            PaddingLeft = UDim.new(0, 12),
            PaddingRight = UDim.new(0, 12),
            Parent = TabButton
        })
        
        local TabText = CreateInstance("TextLabel", {
            Size = UDim2.new(0, 0, 1, 0),
            AutomaticSize = Enum.AutomaticSize.X,
            BackgroundTransparency = 1,
            Text = name,
            TextColor3 = Theme.TextDark,
            TextSize = 12,
            Font = Enum.Font.GothamMedium,
            Parent = TabButton
        })
        
        -- Tab Content
        local TabContent = CreateInstance("Frame", {
            Size = UDim2.new(1, 0, 1, 0),
            BackgroundTransparency = 1,
            Visible = false,
            Parent = ContentContainer
        })
        
        -- Left Column
        local LeftColumn = CreateInstance("ScrollingFrame", {
            Size = UDim2.new(0.5, -5, 1, 0),
            Position = UDim2.new(0, 0, 0, 0),
            BackgroundTransparency = 1,
            BorderSizePixel = 0,
            ScrollBarThickness = 2,
            ScrollBarImageColor3 = Theme.Accent,
            CanvasSize = UDim2.new(0, 0, 0, 0),
            AutomaticCanvasSize = Enum.AutomaticSize.Y,
            Parent = TabContent
        })
        
        CreateInstance("UIListLayout", {
            Padding = UDim.new(0, 8),
            SortOrder = Enum.SortOrder.LayoutOrder,
            Parent = LeftColumn
        })
        
        -- Right Column
        local RightColumn = CreateInstance("ScrollingFrame", {
            Size = UDim2.new(0.5, -5, 1, 0),
            Position = UDim2.new(0.5, 5, 0, 0),
            BackgroundTransparency = 1,
            BorderSizePixel = 0,
            ScrollBarThickness = 2,
            ScrollBarImageColor3 = Theme.Accent,
            CanvasSize = UDim2.new(0, 0, 0, 0),
            AutomaticCanvasSize = Enum.AutomaticSize.Y,
            Parent = TabContent
        })
        
        CreateInstance("UIListLayout", {
            Padding = UDim.new(0, 8),
            SortOrder = Enum.SortOrder.LayoutOrder,
            Parent = RightColumn
        })
        
        local function SelectTab()
            -- Deselect all
            for _, t in pairs(Window.Tabs) do
                Tween(t.Button, 0.2, {BackgroundTransparency = 1})
                Tween(t.Text, 0.2, {TextColor3 = Theme.TextDark})
                t.Content.Visible = false
            end
            
            -- Select this
            Tween(TabButton, 0.2, {BackgroundTransparency = 0})
            Tween(TabText, 0.2, {TextColor3 = Theme.Text})
            TabContent.Visible = true
            Window.ActiveTab = Tab
        end
        
        TabButton.MouseButton1Click:Connect(SelectTab)
        
        TabButton.MouseEnter:Connect(function()
            if Window.ActiveTab ~= Tab then
                Tween(TabButton, 0.2, {BackgroundTransparency = 0.5})
            end
        end)
        
        TabButton.MouseLeave:Connect(function()
            if Window.ActiveTab ~= Tab then
                Tween(TabButton, 0.2, {BackgroundTransparency = 1})
            end
        end)
        
        -- Section Function
        function Tab:Section(options)
            options = options or {}
            local sectionName = options.Name or "Section"
            local side = options.Side or "Left"
            local column = side == "Left" and LeftColumn or RightColumn
            
            local Section = {}
            
            local SectionFrame = CreateInstance("Frame", {
                Size = UDim2.new(1, 0, 0, 0),
                AutomaticSize = Enum.AutomaticSize.Y,
                BackgroundColor3 = Theme.Secondary,
                BorderSizePixel = 0,
                Parent = column
            })
            AddCorner(SectionFrame, 6)
            
            -- Section Header
            local SectionHeader = CreateInstance("Frame", {
                Size = UDim2.new(1, 0, 0, 28),
                BackgroundColor3 = Theme.Tertiary,
                BorderSizePixel = 0,
                Parent = SectionFrame
            })
            AddCorner(SectionHeader, 6)
            
            local HeaderFix = CreateInstance("Frame", {
                Size = UDim2.new(1, 0, 0, 8),
                Position = UDim2.new(0, 0, 1, -8),
                BackgroundColor3 = Theme.Tertiary,
                BorderSizePixel = 0,
                Parent = SectionHeader
            })
            
            local SectionTitle = CreateInstance("TextLabel", {
                Size = UDim2.new(1, -16, 1, 0),
                Position = UDim2.new(0, 10, 0, 0),
                BackgroundTransparency = 1,
                Text = sectionName,
                TextColor3 = Theme.Text,
                TextSize = 12,
                Font = Enum.Font.GothamBold,
                TextXAlignment = Enum.TextXAlignment.Left,
                Parent = SectionHeader
            })
            
            -- Section Content
            local SectionContent = CreateInstance("Frame", {
                Size = UDim2.new(1, 0, 0, 0),
                Position = UDim2.new(0, 0, 0, 28),
                AutomaticSize = Enum.AutomaticSize.Y,
                BackgroundTransparency = 1,
                Parent = SectionFrame
            })
            
            CreateInstance("UIListLayout", {
                Padding = UDim.new(0, 4),
                SortOrder = Enum.SortOrder.LayoutOrder,
                Parent = SectionContent
            })
            
            CreateInstance("UIPadding", {
                PaddingTop = UDim.new(0, 6),
                PaddingBottom = UDim.new(0, 8),
                PaddingLeft = UDim.new(0, 8),
                PaddingRight = UDim.new(0, 8),
                Parent = SectionContent
            })
            
            -- Toggle
            function Section:Toggle(options)
                options = options or {}
                local toggleName = options.Name or "Toggle"
                local flag = options.Flag or toggleName
                local default = options.Default or false
                local callback = options.Callback or function() end
                
                Library.Flags[flag] = default
                
                local Toggle = {}
                
                local ToggleFrame = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 28),
                    BackgroundTransparency = 1,
                    Parent = SectionContent
                })
                
                local ToggleLabel = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, -50, 1, 0),
                    Position = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1,
                    Text = toggleName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = ToggleFrame
                })
                
                local ToggleBg = CreateInstance("Frame", {
                    Size = UDim2.new(0, 38, 0, 20),
                    Position = UDim2.new(1, -38, 0.5, -10),
                    BackgroundColor3 = default and Theme.ToggleOn or Theme.Toggle,
                    BorderSizePixel = 0,
                    Parent = ToggleFrame
                })
                AddCorner(ToggleBg, 10)
                
                local ToggleCircle = CreateInstance("Frame", {
                    Size = UDim2.new(0, 16, 0, 16),
                    Position = default and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8),
                    BackgroundColor3 = Color3.fromRGB(255, 255, 255),
                    BorderSizePixel = 0,
                    Parent = ToggleBg
                })
                AddCorner(ToggleCircle, 8)
                
                local function SetValue(value)
                    Library.Flags[flag] = value
                    Tween(ToggleBg, 0.2, {BackgroundColor3 = value and Theme.ToggleOn or Theme.Toggle})
                    Tween(ToggleCircle, 0.2, {Position = value and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8)})
                    callback(value)
                end
                
                local ToggleButton = CreateInstance("TextButton", {
                    Size = UDim2.new(1, 0, 1, 0),
                    BackgroundTransparency = 1,
                    Text = "",
                    Parent = ToggleFrame
                })
                
                ToggleButton.MouseButton1Click:Connect(function()
                    SetValue(not Library.Flags[flag])
                end)
                
                function Toggle:Set(value)
                    SetValue(value)
                end
                
                function Toggle:Get()
                    return Library.Flags[flag]
                end
                
                -- Keybind
                function Toggle:Keybind(kbOptions)
                    kbOptions = kbOptions or {}
                    local kbFlag = kbOptions.Flag or flag .. "_Keybind"
                    local kbDefault = kbOptions.Key or Enum.KeyCode.Unknown
                    local kbMode = kbOptions.Mode or "Toggle"
                    local kbCallback = kbOptions.Callback or function() end
                    
                    Library.Flags[kbFlag] = {Key = kbDefault, Mode = kbMode}
                    
                    local KeybindButton = CreateInstance("TextButton", {
                        Size = UDim2.new(0, 45, 0, 20),
                        Position = UDim2.new(1, -88, 0.5, -10),
                        BackgroundColor3 = Theme.Input,
                        BorderSizePixel = 0,
                        Text = kbDefault == Enum.KeyCode.Unknown and "..." or kbDefault.Name,
                        TextColor3 = Theme.TextDark,
                        TextSize = 10,
                        Font = Enum.Font.Gotham,
                        Parent = ToggleFrame
                    })
                    AddCorner(KeybindButton, 4)
                    
                    local listening = false
                    
                    KeybindButton.MouseButton1Click:Connect(function()
                        listening = true
                        KeybindButton.Text = "..."
                    end)
                    
                    local kbConn = UserInputService.InputBegan:Connect(function(input, processed)
                        if listening then
                            if input.UserInputType == Enum.UserInputType.Keyboard then
                                if input.KeyCode == Enum.KeyCode.Escape then
                                    Library.Flags[kbFlag].Key = Enum.KeyCode.Unknown
                                    KeybindButton.Text = "..."
                                else
                                    Library.Flags[kbFlag].Key = input.KeyCode
                                    KeybindButton.Text = input.KeyCode.Name
                                end
                                listening = false
                            end
                        elseif not processed then
                            local key = Library.Flags[kbFlag].Key
                            if key and key ~= Enum.KeyCode.Unknown and input.KeyCode == key then
                                if kbMode == "Toggle" then
                                    SetValue(not Library.Flags[flag])
                                    kbCallback(Library.Flags[flag])
                                elseif kbMode == "Hold" then
                                    SetValue(true)
                                    kbCallback(true)
                                end
                            end
                        end
                    end)
                    table.insert(Connections, kbConn)
                    
                    if kbMode == "Hold" then
                        local kbConn2 = UserInputService.InputEnded:Connect(function(input)
                            local key = Library.Flags[kbFlag].Key
                            if key and key ~= Enum.KeyCode.Unknown and input.KeyCode == key then
                                SetValue(false)
                                kbCallback(false)
                            end
                        end)
                        table.insert(Connections, kbConn2)
                    end
                    
                    return Toggle
                end
                
                -- Colorpicker attached to toggle
                function Toggle:Colorpicker(cpOptions)
                    cpOptions = cpOptions or {}
                    local cpFlag = cpOptions.Flag or flag .. "_Color"
                    local cpDefault = cpOptions.Color or Color3.fromRGB(255, 255, 255)
                    local cpAlpha = cpOptions.Alpha or 1
                    local cpCallback = cpOptions.Callback or function() end
                    
                    Library.Flags[cpFlag] = {Color = cpDefault, Alpha = cpAlpha}
                    
                    local ColorButton = CreateInstance("TextButton", {
                        Size = UDim2.new(0, 28, 0, 20),
                        Position = UDim2.new(1, -88, 0.5, -10),
                        BackgroundColor3 = cpDefault,
                        BorderSizePixel = 0,
                        Text = "",
                        Parent = ToggleFrame
                    })
                    AddCorner(ColorButton, 4)
                    AddStroke(ColorButton, Theme.Divider)
                    
                    -- Move toggle button
                    ToggleBg.Position = UDim2.new(1, -38, 0.5, -10)
                    
                    local colors = {
                        Color3.fromRGB(255, 50, 50),
                        Color3.fromRGB(255, 150, 50),
                        Color3.fromRGB(255, 255, 50),
                        Color3.fromRGB(50, 255, 50),
                        Color3.fromRGB(50, 255, 255),
                        Color3.fromRGB(50, 150, 255),
                        Color3.fromRGB(50, 50, 255),
                        Color3.fromRGB(150, 50, 255),
                        Color3.fromRGB(255, 50, 255),
                        Color3.fromRGB(255, 255, 255),
                        Color3.fromRGB(115, 225, 175)
                    }
                    
                    ColorButton.MouseButton1Click:Connect(function()
                        local currentIndex = 1
                        for i, c in ipairs(colors) do
                            if c == ColorButton.BackgroundColor3 then
                                currentIndex = i
                                break
                            end
                        end
                        local nextColor = colors[(currentIndex % #colors) + 1]
                        ColorButton.BackgroundColor3 = nextColor
                        Library.Flags[cpFlag] = {Color = nextColor, Alpha = cpAlpha}
                        cpCallback(nextColor, cpAlpha)
                    end)
                    
                    return Toggle
                end
                
                if default then
                    callback(default)
                end
                
                return Toggle
            end
            
            -- Slider
            function Section:Slider(options)
                options = options or {}
                local sliderName = options.Name or "Slider"
                local flag = options.Flag or sliderName
                local min = options.Min or 0
                local max = options.Max or 100
                local default = options.Default or min
                local suffix = options.Suffix or ""
                local decimal = options.Decimal or 1
                local callback = options.Callback or function() end
                
                Library.Flags[flag] = default
                
                local Slider = {}
                
                local SliderFrame = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 38),
                    BackgroundTransparency = 1,
                    Parent = SectionContent
                })
                
                local SliderLabel = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, -60, 0, 18),
                    Position = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1,
                    Text = sliderName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = SliderFrame
                })
                
                local SliderValue = CreateInstance("TextLabel", {
                    Size = UDim2.new(0, 55, 0, 18),
                    Position = UDim2.new(1, -55, 0, 0),
                    BackgroundTransparency = 1,
                    Text = tostring(default) .. suffix,
                    TextColor3 = Theme.Accent,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Right,
                    Parent = SliderFrame
                })
                
                local SliderBg = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 14),
                    Position = UDim2.new(0, 0, 0, 22),
                    BackgroundColor3 = Theme.SliderBg,
                    BorderSizePixel = 0,
                    Parent = SliderFrame
                })
                AddCorner(SliderBg, 7)
                
                local SliderFill = CreateInstance("Frame", {
                    Size = UDim2.new((default - min) / (max - min), 0, 1, 0),
                    BackgroundColor3 = Theme.SliderFill,
                    BorderSizePixel = 0,
                    Parent = SliderBg
                })
                AddCorner(SliderFill, 7)
                
                local SliderKnob = CreateInstance("Frame", {
                    Size = UDim2.new(0, 18, 0, 18),
                    Position = UDim2.new((default - min) / (max - min), -9, 0.5, -9),
                    BackgroundColor3 = Color3.fromRGB(255, 255, 255),
                    BorderSizePixel = 0,
                    ZIndex = 2,
                    Parent = SliderBg
                })
                AddCorner(SliderKnob, 9)
                
                local function SetValue(value)
                    value = math.clamp(value, min, max)
                    value = math.floor(value / decimal + 0.5) * decimal
                    Library.Flags[flag] = value
                    SliderValue.Text = tostring(value) .. suffix
                    local percent = (value - min) / (max - min)
                    Tween(SliderFill, 0.1, {Size = UDim2.new(percent, 0, 1, 0)})
                    Tween(SliderKnob, 0.1, {Position = UDim2.new(percent, -9, 0.5, -9)})
                    callback(value)
                end
                
                local dragging = false
                
                SliderBg.InputBegan:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 then
                        dragging = true
                        local percent = math.clamp((input.Position.X - SliderBg.AbsolutePosition.X) / SliderBg.AbsoluteSize.X, 0, 1)
                        SetValue(min + (max - min) * percent)
                    end
                end)
                
                SliderBg.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton1 then
                        dragging = false
                    end
                end)
                
                local sliderConn = UserInputService.InputChanged:Connect(function(input)
                    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                        local percent = math.clamp((input.Position.X - SliderBg.AbsolutePosition.X) / SliderBg.AbsoluteSize.X, 0, 1)
                        SetValue(min + (max - min) * percent)
                    end
                end)
                table.insert(Connections, sliderConn)
                
                function Slider:Set(value)
                    SetValue(value)
                end
                
                function Slider:Get()
                    return Library.Flags[flag]
                end
                
                return Slider
            end
            
            -- Dropdown
            function Section:Dropdown(options)
                options = options or {}
                local dropdownName = options.Name or "Dropdown"
                local flag = options.Flag or dropdownName
                local dropdownOptions = options.Options or {}
                local default = options.Default or (options.Multi and {} or (dropdownOptions[1] or ""))
                local multi = options.Multi or false
                local callback = options.Callback or function() end
                
                Library.Flags[flag] = default
                
                local Dropdown = {}
                local isOpen = false
                
                local DropdownFrame = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 44),
                    BackgroundTransparency = 1,
                    ClipsDescendants = true,
                    Parent = SectionContent
                })
                
                local DropdownLabel = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, 0, 0, 18),
                    Position = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1,
                    Text = dropdownName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = DropdownFrame
                })
                
                local function GetDisplayText()
                    if multi then
                        local selected = Library.Flags[flag]
                        if type(selected) ~= "table" then selected = {} end
                        if #selected == 0 then return "None" end
                        if #selected <= 2 then return table.concat(selected, ", ") end
                        return selected[1] .. ", " .. selected[2] .. " +" .. (#selected - 2)
                    end
                    return Library.Flags[flag] or "None"
                end
                
                local DropdownButton = CreateInstance("TextButton", {
                    Size = UDim2.new(1, 0, 0, 24),
                    Position = UDim2.new(0, 0, 0, 20),
                    BackgroundColor3 = Theme.Input,
                    BorderSizePixel = 0,
                    Text = "",
                    Parent = DropdownFrame
                })
                AddCorner(DropdownButton, 5)
                AddStroke(DropdownButton, Theme.InputBorder)
                
                local DropdownText = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, -30, 1, 0),
                    Position = UDim2.new(0, 10, 0, 0),
                    BackgroundTransparency = 1,
                    Text = GetDisplayText(),
                    TextColor3 = Theme.TextDark,
                    TextSize = 11,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    TextTruncate = Enum.TextTruncate.AtEnd,
                    Parent = DropdownButton
                })
                
                local DropdownArrow = CreateInstance("TextLabel", {
                    Size = UDim2.new(0, 20, 1, 0),
                    Position = UDim2.new(1, -22, 0, 0),
                    BackgroundTransparency = 1,
                    Text = "▼",
                    TextColor3 = Theme.TextDark,
                    TextSize = 10,
                    Font = Enum.Font.Gotham,
                    Parent = DropdownButton
                })
                
                local OptionContainer = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 0),
                    Position = UDim2.new(0, 0, 0, 46),
                    BackgroundColor3 = Theme.Input,
                    BorderSizePixel = 0,
                    ClipsDescendants = true,
                    Visible = false,
                    Parent = DropdownFrame
                })
                AddCorner(OptionContainer, 5)
                AddStroke(OptionContainer, Theme.InputBorder)
                
                CreateInstance("UIListLayout", {
                    Padding = UDim.new(0, 0),
                    SortOrder = Enum.SortOrder.LayoutOrder,
                    Parent = OptionContainer
                })
                
                local function RefreshOptions(newOptions)
                    for _, child in pairs(OptionContainer:GetChildren()) do
                        if child:IsA("TextButton") then child:Destroy() end
                    end
                    
                    dropdownOptions = newOptions or dropdownOptions
                    
                    for i, option in ipairs(dropdownOptions) do
                        local OptionButton = CreateInstance("TextButton", {
                            Size = UDim2.new(1, 0, 0, 24),
                            BackgroundColor3 = Theme.Input,
                            BackgroundTransparency = 1,
                            BorderSizePixel = 0,
                            Text = option,
                            TextColor3 = Theme.TextDark,
                            TextSize = 11,
                            Font = Enum.Font.Gotham,
                            LayoutOrder = i,
                            Parent = OptionContainer
                        })
                        
                        OptionButton.MouseEnter:Connect(function()
                            Tween(OptionButton, 0.15, {BackgroundTransparency = 0, BackgroundColor3 = Theme.Tertiary})
                        end)
                        OptionButton.MouseLeave:Connect(function()
                            Tween(OptionButton, 0.15, {BackgroundTransparency = 1})
                        end)
                        
                        OptionButton.MouseButton1Click:Connect(function()
                            if multi then
                                local selected = Library.Flags[flag]
                                if type(selected) ~= "table" then selected = {} end
                                local index = table.find(selected, option)
                                if index then
                                    table.remove(selected, index)
                                else
                                    table.insert(selected, option)
                                end
                                Library.Flags[flag] = selected
                            else
                                Library.Flags[flag] = option
                                isOpen = false
                                OptionContainer.Visible = false
                                Tween(DropdownFrame, 0.2, {Size = UDim2.new(1, 0, 0, 44)})
                                Tween(DropdownArrow, 0.2, {Rotation = 0})
                            end
                            DropdownText.Text = GetDisplayText()
                            callback(Library.Flags[flag])
                        end)
                    end
                end
                
                RefreshOptions(dropdownOptions)
                
                DropdownButton.MouseButton1Click:Connect(function()
                    isOpen = not isOpen
                    if isOpen then
                        OptionContainer.Visible = true
                        local targetHeight = math.min(#dropdownOptions * 24, 120)
                        Tween(DropdownFrame, 0.2, {Size = UDim2.new(1, 0, 0, 48 + targetHeight)})
                        Tween(OptionContainer, 0.2, {Size = UDim2.new(1, 0, 0, targetHeight)})
                        Tween(DropdownArrow, 0.2, {Rotation = 180})
                    else
                        Tween(DropdownFrame, 0.2, {Size = UDim2.new(1, 0, 0, 44)})
                        Tween(OptionContainer, 0.2, {Size = UDim2.new(1, 0, 0, 0)})
                        Tween(DropdownArrow, 0.2, {Rotation = 0})
                        task.delay(0.2, function() OptionContainer.Visible = false end)
                    end
                end)
                
                function Dropdown:Set(value)
                    Library.Flags[flag] = value
                    DropdownText.Text = GetDisplayText()
                    callback(value)
                end
                
                function Dropdown:Get()
                    return Library.Flags[flag]
                end
                
                Dropdown.RefreshOptions = RefreshOptions
                
                return Dropdown
            end
            
            -- Textbox
            function Section:Textbox(options)
                options = options or {}
                local textboxName = options.Name or "Textbox"
                local flag = options.Flag or textboxName
                local placeholder = options.PlaceHolder or ""
                local default = options.Default or ""
                local callback = options.Callback or function() end
                
                Library.Flags[flag] = default
                
                local Textbox = {}
                
                local TextboxFrame = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 44),
                    BackgroundTransparency = 1,
                    Parent = SectionContent
                })
                
                local TextboxLabel = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, 0, 0, 18),
                    Position = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1,
                    Text = textboxName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = TextboxFrame
                })
                
                local TextboxInput = CreateInstance("TextBox", {
                    Size = UDim2.new(1, 0, 0, 24),
                    Position = UDim2.new(0, 0, 0, 20),
                    BackgroundColor3 = Theme.Input,
                    BorderSizePixel = 0,
                    Text = default,
                    PlaceholderText = placeholder,
                    PlaceholderColor3 = Theme.TextDarker,
                    TextColor3 = Theme.Text,
                    TextSize = 11,
                    Font = Enum.Font.Gotham,
                    ClearTextOnFocus = false,
                    Parent = TextboxFrame
                })
                AddCorner(TextboxInput, 5)
                local textboxStroke = AddStroke(TextboxInput, Theme.InputBorder)
                
                CreateInstance("UIPadding", {
                    PaddingLeft = UDim.new(0, 8),
                    PaddingRight = UDim.new(0, 8),
                    Parent = TextboxInput
                })
                
                TextboxInput.Focused:Connect(function()
                    Tween(textboxStroke, 0.15, {Color = Theme.Accent})
                end)
                
                TextboxInput.FocusLost:Connect(function()
                    Tween(textboxStroke, 0.15, {Color = Theme.InputBorder})
                    Library.Flags[flag] = TextboxInput.Text
                    callback(TextboxInput.Text)
                end)
                
                function Textbox:Set(value)
                    TextboxInput.Text = value
                    Library.Flags[flag] = value
                    callback(value)
                end
                
                function Textbox:Get()
                    return Library.Flags[flag]
                end
                
                return Textbox
            end
            
            -- Button
            function Section:Button(options)
                options = options or {}
                local buttonName = options.Name or "Button"
                local callback = options.Callback or function() end
                
                local Button = {}
                
                local ButtonFrame = CreateInstance("TextButton", {
                    Size = UDim2.new(1, 0, 0, 28),
                    BackgroundColor3 = Theme.Accent,
                    BorderSizePixel = 0,
                    Text = buttonName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.GothamMedium,
                    Parent = SectionContent
                })
                AddCorner(ButtonFrame, 5)
                
                ButtonFrame.MouseEnter:Connect(function()
                    Tween(ButtonFrame, 0.15, {BackgroundColor3 = Theme.AccentDark})
                end)
                ButtonFrame.MouseLeave:Connect(function()
                    Tween(ButtonFrame, 0.15, {BackgroundColor3 = Theme.Accent})
                end)
                ButtonFrame.MouseButton1Click:Connect(function()
                    callback()
                end)
                
                return Button
            end
            
            -- Label
            function Section:Label(options)
                options = options or {}
                local text = options.Name or ""
                
                local Label = {}
                
                local LabelFrame = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, 0, 0, 18),
                    BackgroundTransparency = 1,
                    Text = text,
                    TextColor3 = Theme.TextDark,
                    TextSize = 11,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    TextWrapped = true,
                    AutomaticSize = Enum.AutomaticSize.Y,
                    Parent = SectionContent
                })
                
                function Label:Set(newText)
                    LabelFrame.Text = newText
                end
                
                return Label
            end
            
            -- Colorpicker (standalone)
            function Section:Colorpicker(options)
                options = options or {}
                local colorName = options.Name or "Color"
                local flag = options.Flag or colorName
                local defaultColor = options.Color or Color3.fromRGB(255, 255, 255)
                local defaultAlpha = options.Alpha or 1
                local callback = options.Callback or function() end
                
                Library.Flags[flag] = {Color = defaultColor, Alpha = defaultAlpha}
                
                local ColorFrame = CreateInstance("Frame", {
                    Size = UDim2.new(1, 0, 0, 28),
                    BackgroundTransparency = 1,
                    Parent = SectionContent
                })
                
                local ColorLabel = CreateInstance("TextLabel", {
                    Size = UDim2.new(1, -40, 1, 0),
                    Position = UDim2.new(0, 0, 0, 0),
                    BackgroundTransparency = 1,
                    Text = colorName,
                    TextColor3 = Theme.Text,
                    TextSize = 12,
                    Font = Enum.Font.Gotham,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = ColorFrame
                })
                
                local ColorButton = CreateInstance("TextButton", {
                    Size = UDim2.new(0, 32, 0, 20),
                    Position = UDim2.new(1, -32, 0.5, -10),
                    BackgroundColor3 = defaultColor,
                    BorderSizePixel = 0,
                    Text = "",
                    Parent = ColorFrame
                })
                AddCorner(ColorButton, 5)
                AddStroke(ColorButton, Theme.Divider)
                
                local colors = {
                    Color3.fromRGB(255, 50, 50),
                    Color3.fromRGB(255, 150, 50),
                    Color3.fromRGB(255, 255, 50),
                    Color3.fromRGB(50, 255, 50),
                    Color3.fromRGB(50, 255, 255),
                    Color3.fromRGB(50, 150, 255),
                    Color3.fromRGB(50, 50, 255),
                    Color3.fromRGB(150, 50, 255),
                    Color3.fromRGB(255, 50, 255),
                    Color3.fromRGB(255, 255, 255),
                    Color3.fromRGB(115, 225, 175)
                }
                
                ColorButton.MouseButton1Click:Connect(function()
                    local currentIndex = 1
                    for i, c in ipairs(colors) do
                        if c == ColorButton.BackgroundColor3 then
                            currentIndex = i
                            break
                        end
                    end
                    local nextColor = colors[(currentIndex % #colors) + 1]
                    ColorButton.BackgroundColor3 = nextColor
                    Library.Flags[flag] = {Color = nextColor, Alpha = defaultAlpha}
                    callback(nextColor, defaultAlpha)
                end)
                
                return {
                    Set = function(_, color, alpha)
                        ColorButton.BackgroundColor3 = color
                        Library.Flags[flag] = {Color = color, Alpha = alpha or defaultAlpha}
                        callback(color, alpha or defaultAlpha)
                    end,
                    Get = function()
                        return Library.Flags[flag]
                    end
                }
            end
            
            return Section
        end
        
        table.insert(Window.Tabs, {Button = TabButton, Text = TabText, Content = TabContent, Tab = Tab})
        
        if #Window.Tabs == 1 then
            SelectTab()
        end
        
        return Tab
    end
    
    return Window
end

-- Configs
function Library:Configs(window)
    local SettingsTab = window:Tab({Name = "Configs"})
    
    local ConfigSection = SettingsTab:Section({Name = "Configuration", Side = "Left"})
    
    local configDropdown
    
    ConfigSection:Textbox({
        Name = "Config Name",
        Flag = "ConfigName",
        PlaceHolder = "Enter name...",
        Default = "default"
    })
    
    ConfigSection:Button({
        Name = "Save Config",
        Callback = function()
            local name = Library.Flags.ConfigName or "default"
            Library:SaveConfig(name)
            Library.Notifications:Create({Name = "Saved config: " .. name, Lifetime = 2})
            if configDropdown then
                local configs = Library:GetConfigs()
                if #configs == 0 then configs = {"No configs"} end
                configDropdown.RefreshOptions(configs)
            end
        end
    })
    
    local configs = Library:GetConfigs()
    if #configs == 0 then configs = {"No configs"} end
    
    configDropdown = ConfigSection:Dropdown({
        Name = "Select Config",
        Flag = "SelectedConfig",
        Options = configs,
        Default = configs[1]
    })
    
    ConfigSection:Button({
        Name = "Load Config",
        Callback = function()
            local name = Library.Flags.SelectedConfig
            if name and name ~= "No configs" then
                Library:LoadConfig(name)
                Library.Notifications:Create({Name = "Loaded config: " .. name, Lifetime = 2})
            end
        end
    })
    
    ConfigSection:Button({
        Name = "Refresh Configs",
        Callback = function()
            local configs = Library:GetConfigs()
            if #configs == 0 then configs = {"No configs"} end
            configDropdown.RefreshOptions(configs)
            Library.Notifications:Create({Name = "Refreshed configs", Lifetime = 2})
        end
    })
    
    ConfigSection:Button({
        Name = "Delete Config",
        Callback = function()
            local name = Library.Flags.SelectedConfig
            if name and name ~= "No configs" then
                Library:DeleteConfig(name)
                Library.Notifications:Create({Name = "Deleted config: " .. name, Lifetime = 2})
                local configs = Library:GetConfigs()
                if #configs == 0 then configs = {"No configs"} end
                configDropdown.RefreshOptions(configs)
            end
        end
    })
    
    local InfoSection = SettingsTab:Section({Name = "Information", Side = "Right"})
    
    InfoSection:Label({Name = "Azrix Client"})
    InfoSection:Label({Name = "Toggle Key: INSERT"})
    InfoSection:Label({Name = ""})
    InfoSection:Button({
        Name = "Unload",
        Callback = function()
            Library.Notifications:Create({Name = "Unloading...", Lifetime = 2})
            task.wait(1)
            Library:Unload()
        end
    })
end

-- Auto-load default config
task.spawn(function()
    task.wait(1)
    if Library:GetConfigs() and table.find(Library:GetConfigs(), "default") then
        Library:LoadConfig("default")
        Library.Notifications:Create({Name = "Auto-loaded default config", Lifetime = 3})
    end
end)

return Library
